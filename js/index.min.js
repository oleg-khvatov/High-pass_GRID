"use strict";

/**
 * Applies the :focus-visible polyfill at the given scope.
 * A scope in this case is either the top-level Document or a Shadow Root.
 *
 * @param {(Document|ShadowRoot)} scope
 * @see https://github.com/WICG/focus-visible
 */
function applyFocusVisiblePolyfill(scope) {
  var hadKeyboardEvent = true;
  var hadFocusVisibleRecently = false;
  var hadFocusVisibleRecentlyTimeout = null;
  var inputTypesAllowlist = {
    text: true,
    search: true,
    url: true,
    tel: true,
    email: true,
    password: true,
    number: true,
    date: true,
    month: true,
    week: true,
    time: true,
    datetime: true,
    'datetime-local': true
  };
  /**
   * Helper function for legacy browsers and iframes which sometimes focus
   * elements like document, body, and non-interactive SVG.
   * @param {Element} el
   */

  function isValidFocusTarget(el) {
    if (el && el !== document && el.nodeName !== 'HTML' && el.nodeName !== 'BODY' && 'classList' in el && 'contains' in el.classList) {
      return true;
    }

    return false;
  }
  /**
   * Computes whether the given element should automatically trigger the
   * `focus-visible` class being added, i.e. whether it should always match
   * `:focus-visible` when focused.
   * @param {Element} el
   * @return {boolean}
   */


  function focusTriggersKeyboardModality(el) {
    var type = el.type;
    var tagName = el.tagName;

    if (tagName === 'INPUT' && inputTypesAllowlist[type] && !el.readOnly) {
      return true;
    }

    if (tagName === 'TEXTAREA' && !el.readOnly) {
      return true;
    }

    if (el.isContentEditable) {
      return true;
    }

    return false;
  }
  /**
   * Add the `focus-visible` class to the given element if it was not added by
   * the author.
   * @param {Element} el
   */


  function addFocusVisibleClass(el) {
    if (el.classList.contains('focus-visible')) {
      return;
    }

    el.classList.add('focus-visible');
    el.setAttribute('data-focus-visible-added', '');
  }
  /**
   * Remove the `focus-visible` class from the given element if it was not
   * originally added by the author.
   * @param {Element} el
   */


  function removeFocusVisibleClass(el) {
    if (!el.hasAttribute('data-focus-visible-added')) {
      return;
    }

    el.classList.remove('focus-visible');
    el.removeAttribute('data-focus-visible-added');
  }
  /**
   * If the most recent user interaction was via the keyboard;
   * and the key press did not include a meta, alt/option, or control key;
   * then the modality is keyboard. Otherwise, the modality is not keyboard.
   * Apply `focus-visible` to any current active element and keep track
   * of our keyboard modality state with `hadKeyboardEvent`.
   * @param {KeyboardEvent} e
   */


  function onKeyDown(e) {
    if (e.metaKey || e.altKey || e.ctrlKey) {
      return;
    }

    if (isValidFocusTarget(scope.activeElement)) {
      addFocusVisibleClass(scope.activeElement);
    }

    hadKeyboardEvent = true;
  }
  /**
   * If at any point a user clicks with a pointing device, ensure that we change
   * the modality away from keyboard.
   * This avoids the situation where a user presses a key on an already focused
   * element, and then clicks on a different element, focusing it with a
   * pointing device, while we still think we're in keyboard modality.
   * @param {Event} e
   */


  function onPointerDown(e) {
    hadKeyboardEvent = false;
  }
  /**
   * On `focus`, add the `focus-visible` class to the target if:
   * - the target received focus as a result of keyboard navigation, or
   * - the event target is an element that will likely require interaction
   *   via the keyboard (e.g. a text box)
   * @param {Event} e
   */


  function onFocus(e) {
    // Prevent IE from focusing the document or HTML element.
    if (!isValidFocusTarget(e.target)) {
      return;
    }

    if (hadKeyboardEvent || focusTriggersKeyboardModality(e.target)) {
      addFocusVisibleClass(e.target);
    }
  }
  /**
   * On `blur`, remove the `focus-visible` class from the target.
   * @param {Event} e
   */


  function onBlur(e) {
    if (!isValidFocusTarget(e.target)) {
      return;
    }

    if (e.target.classList.contains('focus-visible') || e.target.hasAttribute('data-focus-visible-added')) {
      // To detect a tab/window switch, we look for a blur event followed
      // rapidly by a visibility change.
      // If we don't see a visibility change within 100ms, it's probably a
      // regular focus change.
      hadFocusVisibleRecently = true;
      window.clearTimeout(hadFocusVisibleRecentlyTimeout);
      hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {
        hadFocusVisibleRecently = false;
      }, 100);
      removeFocusVisibleClass(e.target);
    }
  }
  /**
   * If the user changes tabs, keep track of whether or not the previously
   * focused element had .focus-visible.
   * @param {Event} e
   */


  function onVisibilityChange(e) {
    if (document.visibilityState === 'hidden') {
      // If the tab becomes active again, the browser will handle calling focus
      // on the element (Safari actually calls it twice).
      // If this tab change caused a blur on an element with focus-visible,
      // re-apply the class when the user switches back to the tab.
      if (hadFocusVisibleRecently) {
        hadKeyboardEvent = true;
      }

      addInitialPointerMoveListeners();
    }
  }
  /**
   * Add a group of listeners to detect usage of any pointing devices.
   * These listeners will be added when the polyfill first loads, and anytime
   * the window is blurred, so that they are active when the window regains
   * focus.
   */


  function addInitialPointerMoveListeners() {
    document.addEventListener('mousemove', onInitialPointerMove);
    document.addEventListener('mousedown', onInitialPointerMove);
    document.addEventListener('mouseup', onInitialPointerMove);
    document.addEventListener('pointermove', onInitialPointerMove);
    document.addEventListener('pointerdown', onInitialPointerMove);
    document.addEventListener('pointerup', onInitialPointerMove);
    document.addEventListener('touchmove', onInitialPointerMove);
    document.addEventListener('touchstart', onInitialPointerMove);
    document.addEventListener('touchend', onInitialPointerMove);
  }

  function removeInitialPointerMoveListeners() {
    document.removeEventListener('mousemove', onInitialPointerMove);
    document.removeEventListener('mousedown', onInitialPointerMove);
    document.removeEventListener('mouseup', onInitialPointerMove);
    document.removeEventListener('pointermove', onInitialPointerMove);
    document.removeEventListener('pointerdown', onInitialPointerMove);
    document.removeEventListener('pointerup', onInitialPointerMove);
    document.removeEventListener('touchmove', onInitialPointerMove);
    document.removeEventListener('touchstart', onInitialPointerMove);
    document.removeEventListener('touchend', onInitialPointerMove);
  }
  /**
   * When the polfyill first loads, assume the user is in keyboard modality.
   * If any event is received from a pointing device (e.g. mouse, pointer,
   * touch), turn off keyboard modality.
   * This accounts for situations where focus enters the page from the URL bar.
   * @param {Event} e
   */


  function onInitialPointerMove(e) {
    // Work around a Safari quirk that fires a mousemove on <html> whenever the
    // window blurs, even if you're tabbing out of the page. ¯\_(ツ)_/¯
    if (e.target.nodeName && e.target.nodeName.toLowerCase() === 'html') {
      return;
    }

    hadKeyboardEvent = false;
    removeInitialPointerMoveListeners();
  } // For some kinds of state, we are interested in changes at the global scope
  // only. For example, global pointer input, global key presses and global
  // visibility change should affect the state at every scope:


  document.addEventListener('keydown', onKeyDown, true);
  document.addEventListener('mousedown', onPointerDown, true);
  document.addEventListener('pointerdown', onPointerDown, true);
  document.addEventListener('touchstart', onPointerDown, true);
  document.addEventListener('visibilitychange', onVisibilityChange, true);
  addInitialPointerMoveListeners(); // For focus and blur, we specifically care about state changes in the local
  // scope. This is because focus / blur events that originate from within a
  // shadow root are not re-dispatched from the host element if it was already
  // the active element in its own scope:

  scope.addEventListener('focus', onFocus, true);
  scope.addEventListener('blur', onBlur, true); // We detect that a node is a ShadowRoot by ensuring that it is a
  // DocumentFragment and also has a host property. This check covers native
  // implementation and polyfill implementation transparently. If we only cared
  // about the native implementation, we could just check if the scope was
  // an instance of a ShadowRoot.

  if (scope.nodeType === Node.DOCUMENT_FRAGMENT_NODE && scope.host) {
    // Since a ShadowRoot is a special kind of DocumentFragment, it does not
    // have a root element to add a class to. So, we add this attribute to the
    // host element instead:
    scope.host.setAttribute('data-js-focus-visible', '');
  } else if (scope.nodeType === Node.DOCUMENT_NODE) {
    document.documentElement.classList.add('js-focus-visible');
    document.documentElement.setAttribute('data-js-focus-visible', '');
  }
} // It is important to wrap all references to global window and document in
// these checks to support server-side rendering use cases
// @see https://github.com/WICG/focus-visible/issues/199


if (typeof window !== 'undefined' && typeof document !== 'undefined') {
  // Make the polyfill helper globally available. This can be used as a signal
  // to interested libraries that wish to coordinate with the polyfill for e.g.,
  // applying the polyfill to a shadow root:
  window.applyFocusVisiblePolyfill = applyFocusVisiblePolyfill; // Notify interested libraries of the polyfill's presence, in case the
  // polyfill was loaded lazily:

  var event;

  try {
    event = new CustomEvent('focus-visible-polyfill-ready');
  } catch (error) {
    // IE11 does not support using CustomEvent as a constructor directly:
    event = document.createEvent('CustomEvent');
    event.initCustomEvent('focus-visible-polyfill-ready', false, false, {});
  }

  window.dispatchEvent(event);
}

if (typeof document !== 'undefined') {
  // Apply the polyfill to the global document, so that no JavaScript
  // coordination is required to use the polyfill in the top-level document:
  applyFocusVisiblePolyfill(document);
}
"use strict";

//-----------------Яндекс Карта----------------------
// Функция ymaps.ready() будет вызвана, когда
// загрузятся все компоненты API, а также когда будет готово DOM-дерево.
ymaps.ready(init);

function init() {
  // Создание карты.
  var myMap = new ymaps.Map("map", {
    // Координаты центра карты.
    // Порядок по умолчанию: «широта, долгота».
    // Чтобы не определять координаты центра карты вручную,
    // воспользуйтесь инструментом Определение координат.
    center: [55.767088179086414, 37.6145870977173],
    // Уровень масштабирования. Допустимые значения:
    // от 0 (весь мир) до 19.
    zoom: 14,
    controls: []
  }); //кастомная метка на карте

  var myPlacemark = new ymaps.Placemark([55.76963601332982, 37.63668850000002], {}, {
    iconLayout: 'default#image',
    //убираем стандартную метку
    iconImageHref: '../image/sprite.svg#1920--Ellipse-orange',
    //сама кастомная метка метка
    iconImageSize: [12, 12],
    //размеры
    iconImageOffset: [-3. - 42] //отступы

  }); // Размещение геообъекта на карте.

  myMap.geoObjects.add(myPlacemark);
} //--------------------шторка-------------------------


var closeBtn = document.querySelector('#closeButton');
var address = document.querySelector('#address');
closeBtn.addEventListener('click', function () {
  address.classList.toggle('js-open');

  if (address.classList.contains('js-open')) {
    closeBtn.classList.add('js-btn-arrow');
  } else closeBtn.classList.remove('js-btn-arrow');
});
"use strict";

var validation_1 = new JustValidate('#form-1');
var validation_2 = new JustValidate('#form-2', {
  focusInvalidField: true,
  errorFieldCssClass: 'is-invalid'
});
validation_1.addField('#email-1', [{
  rule: 'required',
  errorMessage: 'Поле обязательно для заполнения'
}, {
  rule: 'email',
  errorMessage: 'Адрес электронной почты недействителен!'
}]);
validation_2.addField('#name-2', [{
  rule: 'minLength',
  value: 3,
  errorMessage: 'Должно быть не менее 3х символов'
}, {
  rule: 'maxLength',
  value: 30,
  errorMessage: 'Перебор'
}, {
  rule: 'required',
  errorMessage: 'Поле обязательно для заполнения'
}]).addField('#email-2', [{
  rule: 'required',
  errorMessage: 'Поле обязательно для заполнения'
}, {
  rule: 'email',
  errorMessage: 'Адрес электронной почты недействителен!'
}]).addField('#comments-2', [{
  rule: 'minLength',
  value: 3,
  errorMessage: 'Должно быть не менее 3х символов'
}, {
  rule: 'maxLength',
  value: 120,
  errorMessage: 'Перебор'
}, {
  rule: 'required',
  errorMessage: 'Поле обязательно для заполнения'
}]);
"use strict";

var paragraf1 = document.querySelector('#descr-1');
var paragraf2 = document.querySelector('#descr-2');
var paragraf3 = document.querySelector('#descr-3');
content();
window.addEventListener('resize', function () {
  content();
});

function content() {
  var media1024 = window.matchMedia('(min-width: 950px) and (max-width: 1100px)');

  if (media1024.matches) {
    paragraf1.textContent = 'Синтетически, смешаны с не уникальными...';
    paragraf2.textContent = 'В своём стремлении улучшить опыт мы...';
    paragraf3.textContent = 'Равным образом, высокое качество позиционных высокотехнологичная концепция общественного уклада';
  } else {
    paragraf1.textContent = 'Синтетически, смешаны с не уникальными данными до степени...';
    paragraf2.textContent = 'В своём стремлении улучшить опыт мы упускаем, что явные...';
    paragraf3.textContent = 'Равным образом, высокое качество позиционных...';
  }
}
"use strict";

var $burger = document.querySelector('#burger');
var $menu = document.querySelector('#nav-bottom');
$burger.addEventListener('click', function () {
  $menu.classList.toggle('js-nav-bottom');
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvY3VzLXZpc2libGUuanMiLCJ5YW5kZXgtbWFwLmpzIiwidmFsaWRhdGlvbi5qcyIsInByb2plY3RzLmpzIiwiaGVzZGVyLmpzIl0sIm5hbWVzIjpbImFwcGx5Rm9jdXNWaXNpYmxlUG9seWZpbGwiLCJzY29wZSIsImhhZEtleWJvYXJkRXZlbnQiLCJoYWRGb2N1c1Zpc2libGVSZWNlbnRseSIsImhhZEZvY3VzVmlzaWJsZVJlY2VudGx5VGltZW91dCIsImlucHV0VHlwZXNBbGxvd2xpc3QiLCJ0ZXh0Iiwic2VhcmNoIiwidXJsIiwidGVsIiwiZW1haWwiLCJwYXNzd29yZCIsIm51bWJlciIsImRhdGUiLCJtb250aCIsIndlZWsiLCJ0aW1lIiwiZGF0ZXRpbWUiLCJpc1ZhbGlkRm9jdXNUYXJnZXQiLCJlbCIsImRvY3VtZW50Iiwibm9kZU5hbWUiLCJjbGFzc0xpc3QiLCJmb2N1c1RyaWdnZXJzS2V5Ym9hcmRNb2RhbGl0eSIsInR5cGUiLCJ0YWdOYW1lIiwicmVhZE9ubHkiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImFkZEZvY3VzVmlzaWJsZUNsYXNzIiwiY29udGFpbnMiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVGb2N1c1Zpc2libGVDbGFzcyIsImhhc0F0dHJpYnV0ZSIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIm9uS2V5RG93biIsImUiLCJtZXRhS2V5IiwiYWx0S2V5IiwiY3RybEtleSIsImFjdGl2ZUVsZW1lbnQiLCJvblBvaW50ZXJEb3duIiwib25Gb2N1cyIsInRhcmdldCIsIm9uQmx1ciIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJvblZpc2liaWxpdHlDaGFuZ2UiLCJ2aXNpYmlsaXR5U3RhdGUiLCJhZGRJbml0aWFsUG9pbnRlck1vdmVMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwib25Jbml0aWFsUG9pbnRlck1vdmUiLCJyZW1vdmVJbml0aWFsUG9pbnRlck1vdmVMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidG9Mb3dlckNhc2UiLCJub2RlVHlwZSIsIk5vZGUiLCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFIiwiaG9zdCIsIkRPQ1VNRU5UX05PREUiLCJkb2N1bWVudEVsZW1lbnQiLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZXJyb3IiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJ5bWFwcyIsInJlYWR5IiwiaW5pdCIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsImNvbnRyb2xzIiwibXlQbGFjZW1hcmsiLCJQbGFjZW1hcmsiLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJpY29uSW1hZ2VPZmZzZXQiLCJnZW9PYmplY3RzIiwiY2xvc2VCdG4iLCJxdWVyeVNlbGVjdG9yIiwiYWRkcmVzcyIsInRvZ2dsZSIsInZhbGlkYXRpb25fMSIsIkp1c3RWYWxpZGF0ZSIsInZhbGlkYXRpb25fMiIsImZvY3VzSW52YWxpZEZpZWxkIiwiZXJyb3JGaWVsZENzc0NsYXNzIiwiYWRkRmllbGQiLCJydWxlIiwiZXJyb3JNZXNzYWdlIiwidmFsdWUiLCJwYXJhZ3JhZjEiLCJwYXJhZ3JhZjIiLCJwYXJhZ3JhZjMiLCJjb250ZW50IiwibWVkaWExMDI0IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJ0ZXh0Q29udGVudCIsIiRidXJnZXIiLCIkbWVudSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNDLFNBQVNBLHlCQUFULENBQW1DQyxLQUFuQyxFQUEwQztBQUN6QyxNQUFJQyxnQkFBZ0IsR0FBRyxJQUF2QjtBQUNBLE1BQUlDLHVCQUF1QixHQUFHLEtBQTlCO0FBQ0EsTUFBSUMsOEJBQThCLEdBQUcsSUFBckM7QUFFQSxNQUFJQyxtQkFBbUIsR0FBRztBQUN4QkMsSUFBQUEsSUFBSSxFQUFFLElBRGtCO0FBRXhCQyxJQUFBQSxNQUFNLEVBQUUsSUFG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QXBwbGllcyB0aGUgOmZvY3VzLXZpc2libGUgcG9seWZpbGwgYXQgdGhlIGdpdmVuIHNjb3BlLlxuICogQSBzY29wZSBpbiB0aGlzIGNhc2UgaXMgZWl0aGVyIHRoZSB0b3AtbGV2ZWwgRG9jdW1lbnQgb3IgYSBTaGFkb3cgUm9vdC5cbiAqXG4gKiBAcGFyYW0geyhEb2N1bWVudHxTaGFkb3dSb290KX0gc2NvcGVcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvZm9jdXMtdmlzaWJsZVxuICovXG4gZnVuY3Rpb24gYXBwbHlGb2N1c1Zpc2libGVQb2x5ZmlsbChzY29wZSkge1xuICB2YXIgaGFkS2V5Ym9hcmRFdmVudCA9IHRydWU7XG4gIHZhciBoYWRGb2N1c1Zpc2libGVSZWNlbnRseSA9IGZhbHNlO1xuICB2YXIgaGFkRm9jdXNWaXNpYmxlUmVjZW50bHlUaW1lb3V0ID0gbnVsbDtcblxuICB2YXIgaW5wdXRUeXBlc0FsbG93bGlzdCA9IHtcbiAgICB0ZXh0OiB0cnVlLFxuICAgIHNlYXJjaDogdHJ1ZSxcbiAgICB1cmw6IHRydWUsXG4gICAgdGVsOiB0cnVlLFxuICAgIGVtYWlsOiB0cnVlLFxuICAgIHBhc3N3b3JkOiB0cnVlLFxuICAgIG51bWJlcjogdHJ1ZSxcbiAgICBkYXRlOiB0cnVlLFxuICAgIG1vbnRoOiB0cnVlLFxuICAgIHdlZWs6IHRydWUsXG4gICAgdGltZTogdHJ1ZSxcbiAgICBkYXRldGltZTogdHJ1ZSxcbiAgICAnZGF0ZXRpbWUtbG9jYWwnOiB0cnVlXG4gIH07XG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgbGVnYWN5IGJyb3dzZXJzIGFuZCBpZnJhbWVzIHdoaWNoIHNvbWV0aW1lcyBmb2N1c1xuICAgKiBlbGVtZW50cyBsaWtlIGRvY3VtZW50LCBib2R5LCBhbmQgbm9uLWludGVyYWN0aXZlIFNWRy5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZEZvY3VzVGFyZ2V0KGVsKSB7XG4gICAgaWYgKFxuICAgICAgZWwgJiZcbiAgICAgIGVsICE9PSBkb2N1bWVudCAmJlxuICAgICAgZWwubm9kZU5hbWUgIT09ICdIVE1MJyAmJlxuICAgICAgZWwubm9kZU5hbWUgIT09ICdCT0RZJyAmJlxuICAgICAgJ2NsYXNzTGlzdCcgaW4gZWwgJiZcbiAgICAgICdjb250YWlucycgaW4gZWwuY2xhc3NMaXN0XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIHdoZXRoZXIgdGhlIGdpdmVuIGVsZW1lbnQgc2hvdWxkIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciB0aGVcbiAgICogYGZvY3VzLXZpc2libGVgIGNsYXNzIGJlaW5nIGFkZGVkLCBpLmUuIHdoZXRoZXIgaXQgc2hvdWxkIGFsd2F5cyBtYXRjaFxuICAgKiBgOmZvY3VzLXZpc2libGVgIHdoZW4gZm9jdXNlZC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gZm9jdXNUcmlnZ2Vyc0tleWJvYXJkTW9kYWxpdHkoZWwpIHtcbiAgICB2YXIgdHlwZSA9IGVsLnR5cGU7XG4gICAgdmFyIHRhZ05hbWUgPSBlbC50YWdOYW1lO1xuXG4gICAgaWYgKHRhZ05hbWUgPT09ICdJTlBVVCcgJiYgaW5wdXRUeXBlc0FsbG93bGlzdFt0eXBlXSAmJiAhZWwucmVhZE9ubHkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0YWdOYW1lID09PSAnVEVYVEFSRUEnICYmICFlbC5yZWFkT25seSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGVsLmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBgZm9jdXMtdmlzaWJsZWAgY2xhc3MgdG8gdGhlIGdpdmVuIGVsZW1lbnQgaWYgaXQgd2FzIG5vdCBhZGRlZCBieVxuICAgKiB0aGUgYXV0aG9yLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gICAqL1xuICBmdW5jdGlvbiBhZGRGb2N1c1Zpc2libGVDbGFzcyhlbCkge1xuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvY3VzLXZpc2libGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdmb2N1cy12aXNpYmxlJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLWZvY3VzLXZpc2libGUtYWRkZWQnLCAnJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBgZm9jdXMtdmlzaWJsZWAgY2xhc3MgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudCBpZiBpdCB3YXMgbm90XG4gICAqIG9yaWdpbmFsbHkgYWRkZWQgYnkgdGhlIGF1dGhvci5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlRm9jdXNWaXNpYmxlQ2xhc3MoZWwpIHtcbiAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1mb2N1cy12aXNpYmxlLWFkZGVkJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXMtdmlzaWJsZScpO1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1mb2N1cy12aXNpYmxlLWFkZGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIG1vc3QgcmVjZW50IHVzZXIgaW50ZXJhY3Rpb24gd2FzIHZpYSB0aGUga2V5Ym9hcmQ7XG4gICAqIGFuZCB0aGUga2V5IHByZXNzIGRpZCBub3QgaW5jbHVkZSBhIG1ldGEsIGFsdC9vcHRpb24sIG9yIGNvbnRyb2wga2V5O1xuICAgKiB0aGVuIHRoZSBtb2RhbGl0eSBpcyBrZXlib2FyZC4gT3RoZXJ3aXNlLCB0aGUgbW9kYWxpdHkgaXMgbm90IGtleWJvYXJkLlxuICAgKiBBcHBseSBgZm9jdXMtdmlzaWJsZWAgdG8gYW55IGN1cnJlbnQgYWN0aXZlIGVsZW1lbnQgYW5kIGtlZXAgdHJhY2tcbiAgICogb2Ygb3VyIGtleWJvYXJkIG1vZGFsaXR5IHN0YXRlIHdpdGggYGhhZEtleWJvYXJkRXZlbnRgLlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGVcbiAgICovXG4gIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgaWYgKGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNWYWxpZEZvY3VzVGFyZ2V0KHNjb3BlLmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICBhZGRGb2N1c1Zpc2libGVDbGFzcyhzY29wZS5hY3RpdmVFbGVtZW50KTtcbiAgICB9XG5cbiAgICBoYWRLZXlib2FyZEV2ZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBhdCBhbnkgcG9pbnQgYSB1c2VyIGNsaWNrcyB3aXRoIGEgcG9pbnRpbmcgZGV2aWNlLCBlbnN1cmUgdGhhdCB3ZSBjaGFuZ2VcbiAgICogdGhlIG1vZGFsaXR5IGF3YXkgZnJvbSBrZXlib2FyZC5cbiAgICogVGhpcyBhdm9pZHMgdGhlIHNpdHVhdGlvbiB3aGVyZSBhIHVzZXIgcHJlc3NlcyBhIGtleSBvbiBhbiBhbHJlYWR5IGZvY3VzZWRcbiAgICogZWxlbWVudCwgYW5kIHRoZW4gY2xpY2tzIG9uIGEgZGlmZmVyZW50IGVsZW1lbnQsIGZvY3VzaW5nIGl0IHdpdGggYVxuICAgKiBwb2ludGluZyBkZXZpY2UsIHdoaWxlIHdlIHN0aWxsIHRoaW5rIHdlJ3JlIGluIGtleWJvYXJkIG1vZGFsaXR5LlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBmdW5jdGlvbiBvblBvaW50ZXJEb3duKGUpIHtcbiAgICBoYWRLZXlib2FyZEV2ZW50ID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogT24gYGZvY3VzYCwgYWRkIHRoZSBgZm9jdXMtdmlzaWJsZWAgY2xhc3MgdG8gdGhlIHRhcmdldCBpZjpcbiAgICogLSB0aGUgdGFyZ2V0IHJlY2VpdmVkIGZvY3VzIGFzIGEgcmVzdWx0IG9mIGtleWJvYXJkIG5hdmlnYXRpb24sIG9yXG4gICAqIC0gdGhlIGV2ZW50IHRhcmdldCBpcyBhbiBlbGVtZW50IHRoYXQgd2lsbCBsaWtlbHkgcmVxdWlyZSBpbnRlcmFjdGlvblxuICAgKiAgIHZpYSB0aGUga2V5Ym9hcmQgKGUuZy4gYSB0ZXh0IGJveClcbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgZnVuY3Rpb24gb25Gb2N1cyhlKSB7XG4gICAgLy8gUHJldmVudCBJRSBmcm9tIGZvY3VzaW5nIHRoZSBkb2N1bWVudCBvciBIVE1MIGVsZW1lbnQuXG4gICAgaWYgKCFpc1ZhbGlkRm9jdXNUYXJnZXQoZS50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGhhZEtleWJvYXJkRXZlbnQgfHwgZm9jdXNUcmlnZ2Vyc0tleWJvYXJkTW9kYWxpdHkoZS50YXJnZXQpKSB7XG4gICAgICBhZGRGb2N1c1Zpc2libGVDbGFzcyhlLnRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9uIGBibHVyYCwgcmVtb3ZlIHRoZSBgZm9jdXMtdmlzaWJsZWAgY2xhc3MgZnJvbSB0aGUgdGFyZ2V0LlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBmdW5jdGlvbiBvbkJsdXIoZSkge1xuICAgIGlmICghaXNWYWxpZEZvY3VzVGFyZ2V0KGUudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZm9jdXMtdmlzaWJsZScpIHx8XG4gICAgICBlLnRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtZm9jdXMtdmlzaWJsZS1hZGRlZCcpXG4gICAgKSB7XG4gICAgICAvLyBUbyBkZXRlY3QgYSB0YWIvd2luZG93IHN3aXRjaCwgd2UgbG9vayBmb3IgYSBibHVyIGV2ZW50IGZvbGxvd2VkXG4gICAgICAvLyByYXBpZGx5IGJ5IGEgdmlzaWJpbGl0eSBjaGFuZ2UuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBzZWUgYSB2aXNpYmlsaXR5IGNoYW5nZSB3aXRoaW4gMTAwbXMsIGl0J3MgcHJvYmFibHkgYVxuICAgICAgLy8gcmVndWxhciBmb2N1cyBjaGFuZ2UuXG4gICAgICBoYWRGb2N1c1Zpc2libGVSZWNlbnRseSA9IHRydWU7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhZEZvY3VzVmlzaWJsZVJlY2VudGx5VGltZW91dCk7XG4gICAgICBoYWRGb2N1c1Zpc2libGVSZWNlbnRseVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaGFkRm9jdXNWaXNpYmxlUmVjZW50bHkgPSBmYWxzZTtcbiAgICAgIH0sIDEwMCk7XG4gICAgICByZW1vdmVGb2N1c1Zpc2libGVDbGFzcyhlLnRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSB1c2VyIGNoYW5nZXMgdGFicywga2VlcCB0cmFjayBvZiB3aGV0aGVyIG9yIG5vdCB0aGUgcHJldmlvdXNseVxuICAgKiBmb2N1c2VkIGVsZW1lbnQgaGFkIC5mb2N1cy12aXNpYmxlLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoZSkge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAvLyBJZiB0aGUgdGFiIGJlY29tZXMgYWN0aXZlIGFnYWluLCB0aGUgYnJvd3NlciB3aWxsIGhhbmRsZSBjYWxsaW5nIGZvY3VzXG4gICAgICAvLyBvbiB0aGUgZWxlbWVudCAoU2FmYXJpIGFjdHVhbGx5IGNhbGxzIGl0IHR3aWNlKS5cbiAgICAgIC8vIElmIHRoaXMgdGFiIGNoYW5nZSBjYXVzZWQgYSBibHVyIG9uIGFuIGVsZW1lbnQgd2l0aCBmb2N1cy12aXNpYmxlLFxuICAgICAgLy8gcmUtYXBwbHkgdGhlIGNsYXNzIHdoZW4gdGhlIHVzZXIgc3dpdGNoZXMgYmFjayB0byB0aGUgdGFiLlxuICAgICAgaWYgKGhhZEZvY3VzVmlzaWJsZVJlY2VudGx5KSB7XG4gICAgICAgIGhhZEtleWJvYXJkRXZlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgYWRkSW5pdGlhbFBvaW50ZXJNb3ZlTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGdyb3VwIG9mIGxpc3RlbmVycyB0byBkZXRlY3QgdXNhZ2Ugb2YgYW55IHBvaW50aW5nIGRldmljZXMuXG4gICAqIFRoZXNlIGxpc3RlbmVycyB3aWxsIGJlIGFkZGVkIHdoZW4gdGhlIHBvbHlmaWxsIGZpcnN0IGxvYWRzLCBhbmQgYW55dGltZVxuICAgKiB0aGUgd2luZG93IGlzIGJsdXJyZWQsIHNvIHRoYXQgdGhleSBhcmUgYWN0aXZlIHdoZW4gdGhlIHdpbmRvdyByZWdhaW5zXG4gICAqIGZvY3VzLlxuICAgKi9cbiAgZnVuY3Rpb24gYWRkSW5pdGlhbFBvaW50ZXJNb3ZlTGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVJbml0aWFsUG9pbnRlck1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwb2xmeWlsbCBmaXJzdCBsb2FkcywgYXNzdW1lIHRoZSB1c2VyIGlzIGluIGtleWJvYXJkIG1vZGFsaXR5LlxuICAgKiBJZiBhbnkgZXZlbnQgaXMgcmVjZWl2ZWQgZnJvbSBhIHBvaW50aW5nIGRldmljZSAoZS5nLiBtb3VzZSwgcG9pbnRlcixcbiAgICogdG91Y2gpLCB0dXJuIG9mZiBrZXlib2FyZCBtb2RhbGl0eS5cbiAgICogVGhpcyBhY2NvdW50cyBmb3Igc2l0dWF0aW9ucyB3aGVyZSBmb2N1cyBlbnRlcnMgdGhlIHBhZ2UgZnJvbSB0aGUgVVJMIGJhci5cbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgZnVuY3Rpb24gb25Jbml0aWFsUG9pbnRlck1vdmUoZSkge1xuICAgIC8vIFdvcmsgYXJvdW5kIGEgU2FmYXJpIHF1aXJrIHRoYXQgZmlyZXMgYSBtb3VzZW1vdmUgb24gPGh0bWw+IHdoZW5ldmVyIHRoZVxuICAgIC8vIHdpbmRvdyBibHVycywgZXZlbiBpZiB5b3UncmUgdGFiYmluZyBvdXQgb2YgdGhlIHBhZ2UuIMKvXFxfKOODhClfL8KvXG4gICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lICYmIGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdodG1sJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhZEtleWJvYXJkRXZlbnQgPSBmYWxzZTtcbiAgICByZW1vdmVJbml0aWFsUG9pbnRlck1vdmVMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIEZvciBzb21lIGtpbmRzIG9mIHN0YXRlLCB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBjaGFuZ2VzIGF0IHRoZSBnbG9iYWwgc2NvcGVcbiAgLy8gb25seS4gRm9yIGV4YW1wbGUsIGdsb2JhbCBwb2ludGVyIGlucHV0LCBnbG9iYWwga2V5IHByZXNzZXMgYW5kIGdsb2JhbFxuICAvLyB2aXNpYmlsaXR5IGNoYW5nZSBzaG91bGQgYWZmZWN0IHRoZSBzdGF0ZSBhdCBldmVyeSBzY29wZTpcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biwgdHJ1ZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uUG9pbnRlckRvd24sIHRydWUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24sIHRydWUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UsIHRydWUpO1xuXG4gIGFkZEluaXRpYWxQb2ludGVyTW92ZUxpc3RlbmVycygpO1xuXG4gIC8vIEZvciBmb2N1cyBhbmQgYmx1ciwgd2Ugc3BlY2lmaWNhbGx5IGNhcmUgYWJvdXQgc3RhdGUgY2hhbmdlcyBpbiB0aGUgbG9jYWxcbiAgLy8gc2NvcGUuIFRoaXMgaXMgYmVjYXVzZSBmb2N1cyAvIGJsdXIgZXZlbnRzIHRoYXQgb3JpZ2luYXRlIGZyb20gd2l0aGluIGFcbiAgLy8gc2hhZG93IHJvb3QgYXJlIG5vdCByZS1kaXNwYXRjaGVkIGZyb20gdGhlIGhvc3QgZWxlbWVudCBpZiBpdCB3YXMgYWxyZWFkeVxuICAvLyB0aGUgYWN0aXZlIGVsZW1lbnQgaW4gaXRzIG93biBzY29wZTpcbiAgc2NvcGUuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBvbkZvY3VzLCB0cnVlKTtcbiAgc2NvcGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uQmx1ciwgdHJ1ZSk7XG5cbiAgLy8gV2UgZGV0ZWN0IHRoYXQgYSBub2RlIGlzIGEgU2hhZG93Um9vdCBieSBlbnN1cmluZyB0aGF0IGl0IGlzIGFcbiAgLy8gRG9jdW1lbnRGcmFnbWVudCBhbmQgYWxzbyBoYXMgYSBob3N0IHByb3BlcnR5LiBUaGlzIGNoZWNrIGNvdmVycyBuYXRpdmVcbiAgLy8gaW1wbGVtZW50YXRpb24gYW5kIHBvbHlmaWxsIGltcGxlbWVudGF0aW9uIHRyYW5zcGFyZW50bHkuIElmIHdlIG9ubHkgY2FyZWRcbiAgLy8gYWJvdXQgdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiwgd2UgY291bGQganVzdCBjaGVjayBpZiB0aGUgc2NvcGUgd2FzXG4gIC8vIGFuIGluc3RhbmNlIG9mIGEgU2hhZG93Um9vdC5cbiAgaWYgKHNjb3BlLm5vZGVUeXBlID09PSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgJiYgc2NvcGUuaG9zdCkge1xuICAgIC8vIFNpbmNlIGEgU2hhZG93Um9vdCBpcyBhIHNwZWNpYWwga2luZCBvZiBEb2N1bWVudEZyYWdtZW50LCBpdCBkb2VzIG5vdFxuICAgIC8vIGhhdmUgYSByb290IGVsZW1lbnQgdG8gYWRkIGEgY2xhc3MgdG8uIFNvLCB3ZSBhZGQgdGhpcyBhdHRyaWJ1dGUgdG8gdGhlXG4gICAgLy8gaG9zdCBlbGVtZW50IGluc3RlYWQ6XG4gICAgc2NvcGUuaG9zdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtanMtZm9jdXMtdmlzaWJsZScsICcnKTtcbiAgfSBlbHNlIGlmIChzY29wZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9OT0RFKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2pzLWZvY3VzLXZpc2libGUnKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWpzLWZvY3VzLXZpc2libGUnLCAnJyk7XG4gIH1cbn1cblxuLy8gSXQgaXMgaW1wb3J0YW50IHRvIHdyYXAgYWxsIHJlZmVyZW5jZXMgdG8gZ2xvYmFsIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5cbi8vIHRoZXNlIGNoZWNrcyB0byBzdXBwb3J0IHNlcnZlci1zaWRlIHJlbmRlcmluZyB1c2UgY2FzZXNcbi8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvZm9jdXMtdmlzaWJsZS9pc3N1ZXMvMTk5XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyBNYWtlIHRoZSBwb2x5ZmlsbCBoZWxwZXIgZ2xvYmFsbHkgYXZhaWxhYmxlLiBUaGlzIGNhbiBiZSB1c2VkIGFzIGEgc2lnbmFsXG4gIC8vIHRvIGludGVyZXN0ZWQgbGlicmFyaWVzIHRoYXQgd2lzaCB0byBjb29yZGluYXRlIHdpdGggdGhlIHBvbHlmaWxsIGZvciBlLmcuLFxuICAvLyBhcHBseWluZyB0aGUgcG9seWZpbGwgdG8gYSBzaGFkb3cgcm9vdDpcbiAgd2luZG93LmFwcGx5Rm9jdXNWaXNpYmxlUG9seWZpbGwgPSBhcHBseUZvY3VzVmlzaWJsZVBvbHlmaWxsO1xuXG4gIC8vIE5vdGlmeSBpbnRlcmVzdGVkIGxpYnJhcmllcyBvZiB0aGUgcG9seWZpbGwncyBwcmVzZW5jZSwgaW4gY2FzZSB0aGVcbiAgLy8gcG9seWZpbGwgd2FzIGxvYWRlZCBsYXppbHk6XG4gIHZhciBldmVudDtcblxuICB0cnkge1xuICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdmb2N1cy12aXNpYmxlLXBvbHlmaWxsLXJlYWR5Jyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHVzaW5nIEN1c3RvbUV2ZW50IGFzIGEgY29uc3RydWN0b3IgZGlyZWN0bHk6XG4gICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoJ2ZvY3VzLXZpc2libGUtcG9seWZpbGwtcmVhZHknLCBmYWxzZSwgZmFsc2UsIHt9KTtcbiAgfVxuXG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gQXBwbHkgdGhlIHBvbHlmaWxsIHRvIHRoZSBnbG9iYWwgZG9jdW1lbnQsIHNvIHRoYXQgbm8gSmF2YVNjcmlwdFxuICAvLyBjb29yZGluYXRpb24gaXMgcmVxdWlyZWQgdG8gdXNlIHRoZSBwb2x5ZmlsbCBpbiB0aGUgdG9wLWxldmVsIGRvY3VtZW50OlxuICBhcHBseUZvY3VzVmlzaWJsZVBvbHlmaWxsKGRvY3VtZW50KTtcbn0iLCIvLy0tLS0tLS0tLS0tLS0tLS0t0K/QvdC00LXQutGBINCa0LDRgNGC0LAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyDQpNGD0L3QutGG0LjRjyB5bWFwcy5yZWFkeSgpINCx0YPQtNC10YIg0LLRi9C30LLQsNC90LAsINC60L7Qs9C00LBcbi8vINC30LDQs9GA0YPQt9GP0YLRgdGPINCy0YHQtSDQutC+0LzQv9C+0L3QtdC90YLRiyBBUEksINCwINGC0LDQutC20LUg0LrQvtCz0LTQsCDQsdGD0LTQtdGCINCz0L7RgtC+0LLQviBET00t0LTQtdGA0LXQstC+LlxueW1hcHMucmVhZHkoaW5pdCk7XG5mdW5jdGlvbiBpbml0KCl7XG4gIC8vINCh0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLRiy5cbiAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XG4gICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0YsuXG4gICAgLy8g0J/QvtGA0Y/QtNC+0Log0L/QviDRg9C80L7Qu9GH0LDQvdC40Y46IMKr0YjQuNGA0L7RgtCwLCDQtNC+0LvQs9C+0YLQsMK7LlxuICAgIC8vINCn0YLQvtCx0Ysg0L3QtSDQvtC/0YDQtdC00LXQu9GP0YLRjCDQutC+0L7RgNC00LjQvdCw0YLRiyDRhtC10L3RgtGA0LAg0LrQsNGA0YLRiyDQstGA0YPRh9C90YPRjixcbiAgICAvLyDQstC+0YHQv9C+0LvRjNC30YPQudGC0LXRgdGMINC40L3RgdGC0YDRg9C80LXQvdGC0L7QvCDQntC/0YDQtdC00LXQu9C10L3QuNC1INC60L7QvtGA0LTQuNC90LDRgi5cbiAgICBjZW50ZXI6IFs1NS43NjcwODgxNzkwODY0MTQsMzcuNjE0NTg3MDk3NzE3M10sXG4gICAgLy8g0KPRgNC+0LLQtdC90Ywg0LzQsNGB0YjRgtCw0LHQuNGA0L7QstCw0L3QuNGPLiDQlNC+0L/Rg9GB0YLQuNC80YvQtSDQt9C90LDRh9C10L3QuNGPOlxuICAgIC8vINC+0YIgMCAo0LLQtdGB0Ywg0LzQuNGAKSDQtNC+IDE5LlxuICAgIHpvb206IDE0LFxuICAgIGNvbnRyb2xzOiBbXSwgICAgICAgICAgICAgICAgICAgIFxuICB9KTtcbiAgLy/QutCw0YHRgtC+0LzQvdCw0Y8g0LzQtdGC0LrQsCDQvdCwINC60LDRgNGC0LVcbiAgdmFyIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzY5NjM2MDEzMzI5ODIsMzcuNjM2Njg4NTAwMDAwMDJdLCB7fSx7XG4gICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLCAvL9GD0LHQuNGA0LDQtdC8INGB0YLQsNC90LTQsNGA0YLQvdGD0Y4g0LzQtdGC0LrRg1xuICAgIGljb25JbWFnZUhyZWY6ICcuLi9pbWFnZS9zcHJpdGUuc3ZnIzE5MjAtLUVsbGlwc2Utb3JhbmdlJywvL9GB0LDQvNCwINC60LDRgdGC0L7QvNC90LDRjyDQvNC10YLQutCwINC80LXRgtC60LBcbiAgICBpY29uSW1hZ2VTaXplOiBbMTIsIDEyXSwgLy/RgNCw0LfQvNC10YDRi1xuICAgIGljb25JbWFnZU9mZnNldDogWy0zLiAtNDJdIC8v0L7RgtGB0YLRg9C/0YtcbiAgfSlcbiAgLy8g0KDQsNC30LzQtdGJ0LXQvdC40LUg0LPQtdC+0L7QsdGK0LXQutGC0LAg0L3QsCDQutCw0YDRgtC1LlxuICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS3RiNGC0L7RgNC60LAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZUJ1dHRvbicpO1xuY29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRyZXNzJyk7XG5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgYWRkcmVzcy5jbGFzc0xpc3QudG9nZ2xlKCdqcy1vcGVuJyk7XG4gIGlmIChhZGRyZXNzLmNsYXNzTGlzdC5jb250YWlucygnanMtb3BlbicpKSB7XG4gICAgY2xvc2VCdG4uY2xhc3NMaXN0LmFkZCgnanMtYnRuLWFycm93Jyk7XG4gIH0gZWxzZSBjbG9zZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdqcy1idG4tYXJyb3cnKTtcbn0pIiwiY29uc3QgdmFsaWRhdGlvbl8xID0gbmV3IEp1c3RWYWxpZGF0ZSgnI2Zvcm0tMScpO1xyXG5jb25zdCB2YWxpZGF0aW9uXzIgPSBuZXcgSnVzdFZhbGlkYXRlKCcjZm9ybS0yJywge1xyXG4gIGZvY3VzSW52YWxpZEZpZWxkIDogdHJ1ZSxcclxuICBlcnJvckZpZWxkQ3NzQ2xhc3M6ICdpcy1pbnZhbGlkJyxcclxufSlcclxuXHJcblxyXG52YWxpZGF0aW9uXzEuYWRkRmllbGQoJyNlbWFpbC0xJywgW1xyXG4gICAge1xyXG4gICAgICBydWxlOiAncmVxdWlyZWQnLFxyXG4gICAgICBlcnJvck1lc3NhZ2U6ICfQn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBydWxlOiAnZW1haWwnLFxyXG4gICAgICBlcnJvck1lc3NhZ2U6ICfQkNC00YDQtdGBINGN0LvQtdC60YLRgNC+0L3QvdC+0Lkg0L/QvtGH0YLRiyDQvdC10LTQtdC50YHRgtCy0LjRgtC10LvQtdC9IScsXHJcbiAgICB9LFxyXG4gIF0pO1xyXG5cclxuICB2YWxpZGF0aW9uXzJcclxuICAuYWRkRmllbGQoJyNuYW1lLTInLCBbXHJcbiAgICB7XHJcbiAgICAgIHJ1bGU6ICdtaW5MZW5ndGgnLFxyXG4gICAgICB2YWx1ZTogMyxcclxuICAgICAgZXJyb3JNZXNzYWdlOiAn0JTQvtC70LbQvdC+INCx0YvRgtGMINC90LUg0LzQtdC90LXQtSAz0YUg0YHQuNC80LLQvtC70L7QsicsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBydWxlOiAnbWF4TGVuZ3RoJyxcclxuICAgICAgdmFsdWU6IDMwLFxyXG4gICAgICBlcnJvck1lc3NhZ2U6ICfQn9C10YDQtdCx0L7RgCcsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBydWxlOiAncmVxdWlyZWQnLFxyXG4gICAgICBlcnJvck1lc3NhZ2U6ICfQn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjycsXHJcbiAgICB9LFxyXG4gIF0pXHJcbiAgLmFkZEZpZWxkKCcjZW1haWwtMicsIFtcclxuICAgIHtcclxuICAgICAgcnVsZTogJ3JlcXVpcmVkJyxcclxuICAgICAgZXJyb3JNZXNzYWdlOiAn0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8nLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgcnVsZTogJ2VtYWlsJyxcclxuICAgICAgZXJyb3JNZXNzYWdlOiAn0JDQtNGA0LXRgSDRjdC70LXQutGC0YDQvtC90L3QvtC5INC/0L7Rh9GC0Ysg0L3QtdC00LXQudGB0YLQstC40YLQtdC70LXQvSEnLFxyXG4gICAgfSxcclxuICBdKVxyXG4gIC5hZGRGaWVsZCgnI2NvbW1lbnRzLTInLCBbXHJcbiAgICB7XHJcbiAgICAgIHJ1bGU6ICdtaW5MZW5ndGgnLFxyXG4gICAgICB2YWx1ZTogMyxcclxuICAgICAgZXJyb3JNZXNzYWdlOiAn0JTQvtC70LbQvdC+INCx0YvRgtGMINC90LUg0LzQtdC90LXQtSAz0YUg0YHQuNC80LLQvtC70L7QsicsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBydWxlOiAnbWF4TGVuZ3RoJyxcclxuICAgICAgdmFsdWU6IDEyMCxcclxuICAgICAgZXJyb3JNZXNzYWdlOiAn0J/QtdGA0LXQsdC+0YAnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgcnVsZTogJ3JlcXVpcmVkJyxcclxuICAgICAgZXJyb3JNZXNzYWdlOiAn0J/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8nLFxyXG4gICAgfSxcclxuICBdKTtcclxuXHJcblxyXG5cclxuIiwiXHJcbmNvbnN0IHBhcmFncmFmMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXNjci0xJyk7XHJcbmNvbnN0IHBhcmFncmFmMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXNjci0yJyk7XHJcbmNvbnN0IHBhcmFncmFmMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXNjci0zJyk7XHJcbmNvbnRlbnQoKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICBjb250ZW50KCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY29udGVudCgpIHtcclxuICBjb25zdCBtZWRpYTEwMjQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogOTUwcHgpIGFuZCAobWF4LXdpZHRoOiAxMTAwcHgpJyk7XHJcbiAgaWYgKG1lZGlhMTAyNC5tYXRjaGVzKSB7XHJcbiAgICBwYXJhZ3JhZjEudGV4dENvbnRlbnQgPSAn0KHQuNC90YLQtdGC0LjRh9C10YHQutC4LCDRgdC80LXRiNCw0L3RiyDRgSDQvdC1INGD0L3QuNC60LDQu9GM0L3Ri9C80LguLi4nO1xyXG4gICAgcGFyYWdyYWYyLnRleHRDb250ZW50ID0gJ9CSINGB0LLQvtGR0Lwg0YHRgtGA0LXQvNC70LXQvdC40Lgg0YPQu9GD0YfRiNC40YLRjCDQvtC/0YvRgiDQvNGLLi4uJztcclxuICAgIHBhcmFncmFmMy50ZXh0Q29udGVudCA9ICfQoNCw0LLQvdGL0Lwg0L7QsdGA0LDQt9C+0LwsINCy0YvRgdC+0LrQvtC1INC60LDRh9C10YHRgtCy0L4g0L/QvtC30LjRhtC40L7QvdC90YvRhSDQstGL0YHQvtC60L7RgtC10YXQvdC+0LvQvtCz0LjRh9C90LDRjyDQutC+0L3RhtC10L/RhtC40Y8g0L7QsdGJ0LXRgdGC0LLQtdC90L3QvtCz0L4g0YPQutC70LDQtNCwJztcclxuICB9ZWxzZXtcclxuICAgIHBhcmFncmFmMS50ZXh0Q29udGVudCA9ICfQodC40L3RgtC10YLQuNGH0LXRgdC60LgsINGB0LzQtdGI0LDQvdGLINGBINC90LUg0YPQvdC40LrQsNC70YzQvdGL0LzQuCDQtNCw0L3QvdGL0LzQuCDQtNC+INGB0YLQtdC/0LXQvdC4Li4uJztcclxuICAgIHBhcmFncmFmMi50ZXh0Q29udGVudCA9ICfQkiDRgdCy0L7RkdC8INGB0YLRgNC10LzQu9C10L3QuNC4INGD0LvRg9GH0YjQuNGC0Ywg0L7Qv9GL0YIg0LzRiyDRg9C/0YPRgdC60LDQtdC8LCDRh9GC0L4g0Y/QstC90YvQtS4uLic7XHJcbiAgICBwYXJhZ3JhZjMudGV4dENvbnRlbnQgPSAn0KDQsNCy0L3Ri9C8INC+0LHRgNCw0LfQvtC8LCDQstGL0YHQvtC60L7QtSDQutCw0YfQtdGB0YLQstC+INC/0L7Qt9C40YbQuNC+0L3QvdGL0YUuLi4nO1xyXG4gIH1cclxufSIsImNvbnN0ICRidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnVyZ2VyJyk7XHJcbmNvbnN0ICRtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hdi1ib3R0b20nKTtcclxuXHJcbiRidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgJG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnanMtbmF2LWJvdHRvbScpO1xyXG59KSJdfQ==
